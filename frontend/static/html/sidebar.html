<!-- Severance-inspired Sidebar Navigation -->
<nav class="fixed left-0 top-0 h-full w-64 bg-severance-dark-gradient border-r border-severance-blue transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out z-50" id="sidebar">
    <!-- Mobile overlay -->
    <div class="lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40" id="sidebar-overlay" onclick="closeSidebar()" style="display: none;"></div>
    
    <!-- Sidebar Header -->
    <div class="p-6 border-b border-severance-blue">
        <div class="flex items-center gap-3">
            <div class="bg-severance-glass rounded-lg p-2">
                <span class="text-2xl">💭</span>
            </div>
            <div>
                <h1 class="text-xl font-bold text-severance-cream">DreamOps</h1>
                <p class="text-xs text-severance-gray">Transcending bureaucracy</p>
            </div>
        </div>
    </div>
    
    <!-- Navigation Menu -->
    <div class="flex-1 p-4 space-y-2">
        
        <!-- Home -->
        <a href="/index.html" 
           class="flex items-center gap-3 px-4 py-3 rounded-lg text-severance-beige hover:bg-severance-glass hover:text-severance-cream transition-all duration-200 group">
            <span class="text-lg group-hover:scale-110 transition-transform">🏠</span>
            <span class="font-medium">Home</span>
        </a>
        
        <!-- Products Section -->
        <div class="pt-4">
            <h3 class="text-xs font-semibold text-severance-gray uppercase tracking-wider mb-3 px-4">
                Development Dreams
            </h3>
            
            <!-- Dream Container -->
            <a href="/pages/devcontainer.html" 
               class="flex items-center gap-3 px-4 py-3 rounded-lg text-severance-beige hover:bg-severance-glass hover:text-severance-cream transition-all duration-200 group">
                <span class="text-lg group-hover:scale-110 transition-transform">🐳</span>
                <div class="flex-1">
                    <div class="font-medium">Dream Container</div>
                    <div class="text-xs text-severance-gray">Perfect devcontainer</div>
                </div>
            </a>
            
            <!-- Fast HTMX Kit -->
            <a href="/pages/fast_htmx_kit.html" 
               class="flex items-center gap-3 px-4 py-3 rounded-lg text-severance-beige hover:bg-severance-glass hover:text-severance-cream transition-all duration-200 group">
                <span class="text-lg group-hover:scale-110 transition-transform">⚡</span>
                <div class="flex-1">
                    <div class="font-medium">Fast HTMX Kit</div>
                    <div class="text-xs text-severance-gray">Anti-bureaucracy web dev</div>
                </div>
            </a>
        </div>
        
        <!-- Resources Section -->
        <div class="pt-6">
            <h3 class="text-xs font-semibold text-severance-gray uppercase tracking-wider mb-3 px-4">
                Resources
            </h3>
            
            <!-- Documentation -->
            <a href="/docs" 
               class="flex items-center gap-3 px-4 py-3 rounded-lg text-severance-beige hover:bg-severance-glass hover:text-severance-cream transition-all duration-200 group">
                <span class="text-lg group-hover:scale-110 transition-transform">📖</span>
                <span class="font-medium">Documentation</span>
            </a>
            
            <!-- Examples -->
            <a href="/examples" 
               class="flex items-center gap-3 px-4 py-3 rounded-lg text-severance-beige hover:bg-severance-glass hover:text-severance-cream transition-all duration-200 group">
                <span class="text-lg group-hover:scale-110 transition-transform">💡</span>
                <span class="font-medium">Examples</span>
            </a>
            
            <!-- GitHub -->
            <a href="https://github.com/yourname/dream-container" 
               target="_blank"
               class="flex items-center gap-3 px-4 py-3 rounded-lg text-severance-beige hover:bg-severance-glass hover:text-severance-cream transition-all duration-200 group">
                <span class="text-lg group-hover:scale-110 transition-transform">⭐</span>
                <span class="font-medium">GitHub</span>
                <span class="text-xs text-severance-gray ml-auto">↗</span>
            </a>
        </div>
        
        <!-- Tools Section -->
        <div class="pt-6">
            <h3 class="text-xs font-semibold text-severance-gray uppercase tracking-wider mb-3 px-4">
                Development Tools
            </h3>
            
            <!-- API Health -->
            <a href="http://api:8000/health" 
               target="_blank"
               class="flex items-center gap-3 px-4 py-3 rounded-lg text-severance-beige hover:bg-severance-glass hover:text-severance-cream transition-all duration-200 group">
                <span class="text-lg group-hover:scale-110 transition-transform">🏥</span>
                <span class="font-medium">API Health</span>
                <span class="text-xs text-severance-gray ml-auto">↗</span>
            </a>
            
            <!-- API Docs -->
            <a href="http://api:8000/docs" 
               target="_blank"
               class="flex items-center gap-3 px-4 py-3 rounded-lg text-severance-beige hover:bg-severance-glass hover:text-severance-cream transition-all duration-200 group">
                <span class="text-lg group-hover:scale-110 transition-transform">📋</span>
                <span class="font-medium">API Docs</span>
                <span class="text-xs text-severance-gray ml-auto">↗</span>
            </a>
            
            <!-- Dream Terminal -->
            <button onclick="toggleTerminal()" 
                    class="flex items-center gap-3 px-4 py-3 rounded-lg text-severance-beige hover:bg-severance-glass hover:text-severance-cream transition-all duration-200 group w-full text-left">
                <span class="text-lg group-hover:scale-110 transition-transform">💻</span>
                <span class="font-medium">Dream Terminal</span>
            </button>
        </div>
    </div>
    
    <!-- Bottom Status -->
    <div class="p-4 border-t border-severance-blue">
        <!-- System Status Indicator -->
        <div class="flex items-center gap-3 mb-3">
            <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
            <span class="text-xs text-severance-gray">System Operational</span>
        </div>
        
        <!-- Version Info -->
        <div class="text-xs text-severance-gray">
            <div>DreamOps v1.0.0</div>
            <div class="opacity-75">Build 2025.01</div>
        </div>
        
        <!-- Transcendence Quote -->
        <div class="mt-3 text-xs text-severance-mint italic">
            "Transcending bureaucracy..."
        </div>
    </div>
</nav>

<!-- Mobile Menu Button -->
<button onclick="openSidebar()" 
        class="lg:hidden fixed top-4 left-4 z-50 bg-severance-dark p-2 rounded-lg text-severance-cream border border-severance-blue">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
    </svg>
</button>

<!-- Sidebar JavaScript -->
<script>
function openSidebar() {
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('sidebar-overlay');
    
    sidebar.classList.remove('-translate-x-full');
    overlay.style.display = 'block';
    
    // Prevent body scroll
    document.body.style.overflow = 'hidden';
}

function closeSidebar() {
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('sidebar-overlay');
    
    sidebar.classList.add('-translate-x-full');
    overlay.style.display = 'none';
    
    // Restore body scroll
    document.body.style.overflow = 'auto';
}

function toggleTerminal() {
    // Create or toggle terminal overlay
    let terminal = document.getElementById('dream-terminal');
    
    if (!terminal) {
        terminal = document.createElement('div');
        terminal.id = 'dream-terminal';
        terminal.className = 'fixed inset-4 bg-severance-dark border border-severance-blue rounded-lg p-6 z-50 font-severance-mono';
        terminal.innerHTML = `
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-severance-cream font-semibold">💭 Dream Terminal</h3>
                <button onclick="toggleTerminal()" class="text-severance-gray hover:text-severance-cream">✕</button>
            </div>
            <div class="bg-black rounded p-4 text-green-400 text-sm font-mono">
                <div class="mb-2">💭 DreamOps Terminal v1.0.0</div>
                <div class="mb-2">✨ Transcending bureaucracy since 2025</div>
                <div class="mb-4">🚀 All systems operational</div>
                
                <div class="mb-2">Available commands:</div>
                <div class="ml-4 space-y-1 text-severance-gray">
                    <div>• health    - Check system health</div>
                    <div>• dreams    - View all dreams</div>
                    <div>• stats     - Show statistics</div>
                    <div>• clear     - Clear terminal</div>
                    <div>• help      - Show this help</div>
                </div>
                
                <div class="mt-4 flex">
                    <span class="text-severance-mint">dream@container:~$</span>
                    <input type="text" class="bg-transparent border-none outline-none text-green-400 ml-2 flex-1" 
                           placeholder="Enter command..." 
                           onkeypress="handleTerminalCommand(event)">
                </div>
            </div>
        `;
        document.body.appendChild(terminal);
    } else {
        terminal.remove();
    }
}

function handleTerminalCommand(event) {
    if (event.key === 'Enter') {
        const command = event.target.value.toLowerCase().trim();
        const terminal = event.target.closest('#dream-terminal');
        const output = terminal.querySelector('.bg-black');
        
        // Add command to output
        const commandLine = document.createElement('div');
        commandLine.className = 'mt-2';
        commandLine.innerHTML = `<span class="text-severance-mint">dream@container:~$</span> <span class="text-green-400">${command}</span>`;
        output.appendChild(commandLine);
        
        // Process command
        const response = document.createElement('div');
        response.className = 'text-severance-cream mb-2';
        
        switch(command) {
            case 'health':
                response.innerHTML = '✅ All systems operational<br>🐘 Database: Connected<br>📦 Redis: Active<br>🚀 API: Healthy';
                break;
            case 'dreams':
                response.innerHTML = '💭 Loading dreams from database...<br>Found 4 active dreams<br>✨ 2 realized, 2 in progress';
                break;
            case 'stats':
                response.innerHTML = '📊 System Statistics:<br>• Uptime: 99.9%<br>• Dreams processed: 1,337<br>• Bureaucracy transcended: ∞';
                break;
            case 'clear':
                output.innerHTML = `
                    <div class="mb-2">💭 DreamOps Terminal v1.0.0</div>
                    <div class="mb-4">✨ Terminal cleared</div>
                `;
                response.innerHTML = '';
                break;
            case 'help':
                response.innerHTML = '💡 Available commands: health, dreams, stats, clear, help<br>✨ Type any command and press Enter';
                break;
            case '':
                response.innerHTML = '';
                break;
            default:
                response.innerHTML = `❌ Command '${command}' not found. Type 'help' for available commands.`;
        }
        
        if (response.innerHTML) {
            output.appendChild(response);
        }
        
        // Add new prompt
        const newPrompt = document.createElement('div');
        newPrompt.className = 'mt-2 flex';
        newPrompt.innerHTML = `
            <span class="text-severance-mint">dream@container:~$</span>
            <input type="text" class="bg-transparent border-none outline-none text-green-400 ml-2 flex-1" 
                   placeholder="Enter command..." 
                   onkeypress="handleTerminalCommand(event)">
        `;
        output.appendChild(newPrompt);
        
        // Focus new input
        newPrompt.querySelector('input').focus();
        
        // Remove old input
        event.target.parentElement.remove();
        
        // Scroll to bottom
        output.scrollTop = output.scrollHeight;
    }
}

// Highlight current page in navigation
document.addEventListener('DOMContentLoaded', function() {
    const currentPath = window.location.pathname;
    const navLinks = document.querySelectorAll('nav a[href]');
    
    navLinks.forEach(link => {
        if (link.getAttribute('href') === currentPath) {
            link.classList.add('bg-severance-glass', 'text-severance-cream');
        }
    });
});
</script>